<div class="modal-dialog">
  <div class="modal-content">
    <div class="modal-header">
        <div class="col-xs-12">
            <h4 class="modal-title pull-left">Report</h4>  
            <button class="close pull-right" (click)="activeModal.dismiss('Cross click')">x</button>                
        </div>  
    </div>
    <div class="modal-body">
      <div class="panel-body boundingbox">
        <div class="shadowtext">
          <p>Enter a report title and/or comments here that will display on the printed report. Use the print button below.</p>
        </div>
      </div>
      <label style="font-weight:lighter; margin-bottom:3px;">Enter report title:</label>
        <input [(ngModel)]="reportTitle" type="text">
      <br />
      <label style="font-weight:lighter; margin-bottom:3px;">Enter comments:</label>
        <input [(ngModel)]="reportComments" type="text" height="4em">
      

      <h2>{{reportTitle}}</h2>
      <div *ngIf="StudyService.ReportOptions[0].checked">
      <!--INSERT MAP HERE-->
        <div id="map_container">
           <tot-map _nghost-c0 ng-version="6.1.3" class="report" [modal]="true"></tot-map>
        </div>
      </div>
      <div *ngIf="reportComments">
        <p>{{reportComments}}</p>
      </div>
      <div *ngIf="StudyService.ReportOptions[1].checked">
        <div class="table" id="scroll">
          <h4>Most Probable</h4>
          <table>
            <thead>
              <tr style="border-bottom: solid black 1px; padding: 4px 4px 4px 4px;">
                <th>Name</th>
                <th title="Streamflow (cubic feet per second)">Q</th>
                <th title="Drainage area (square miles)">D<sub>a</sub></th>
                <th title="Reach length (meters)">L</th>
                <th title="Velocity (meters per second)">V</th>
                <th title="Traveltime of the leading edge">T<sub>l</sub></th>
                <!--<th title="Time span of leading edge">T<sub>l</sub> Span</th>-->
                <th title="Accumulated Travel Time of the leading edge">CumT<sub>l</sub></th>
                <th title="Peak Concentration (mg/L)">C<sub>up</sub></th>
                <th title="Traveltime of the peak">T<sub>p</sub></th>
                <th title="Accumulated Travel Time of the peak">CumT<sub>p</sub></th>
                <th title="Trailing Edge Concentration (mg/L)">C<sub>t</sub></th>
                <th title="Traveltime of trailing edge (Time of passage from the leading edge to a point where the concentration has been reduced to 10 percent of the peak concentration)">T<sub>d10</sub></th>
                <th title="Accumulated Travel Time of trailing edge">CumT<sub>d10</sub></th>
              </tr>
            </thead>
    
            <tbody>
              <tr *ngFor="let reach of output$; let i = index">
                <td>{{reach.name}}</td>
    
                <ng-container *ngFor="let pars of reach.parameters">
                  <ng-container *ngIf="pars.name === 'Discharge at time of measurement'">
                    <td>{{pars.value}}</td>
                  </ng-container>
                  <ng-container *ngIf="pars.name === 'Drainage area'">
                    <td>{{pars.value}}</td>
                  </ng-container>
                  <ng-container *ngIf="pars.name === 'Distance'">
                    <td>{{pars.value}}</td>
                  </ng-container>
                </ng-container>
    
                <ng-container>
                  <!-- if the key is equal to v - this is av speed, else it is vmax-->
                  <td>{{reach.result.equations.vmax.value.toUSGSvalue(2)}}</td>
                  <td>{{reach.result.tracer_Response.leadingEdge.MostProbable.reachTime}}</td>
                  <td title="{{reach.result.tracer_Response.leadingEdge.MostProbable.date}}">{{reach.result.tracer_Response.leadingEdge.MostProbable.cumTime}}</td>
                  <td>{{reach.result.tracer_Response.peakConcentration.MostProbable.concentration.toUSGSvalue(2)}}</td>
                  <td>{{reach.result.tracer_Response.peakConcentration.MostProbable.reachTime}}</td>
                  <td title="{{reach.result.tracer_Response.leadingEdge.MostProbable.date}}">{{reach.result.tracer_Response.peakConcentration.MostProbable.cumTime}}</td>
                  <td>{{reach.result.tracer_Response.trailingEdge.MostProbable.concentration.toUSGSvalue(2)}}</td>
                  <td>{{reach.result.tracer_Response.trailingEdge.MostProbable.reachTime}}</td>
                  <td title="{{reach.result.tracer_Response.leadingEdge.MostProbable.date}}">{{reach.result.tracer_Response.trailingEdge.MostProbable.cumTime}}</td>
                </ng-container>
              </tr>
            </tbody>
          </table>
        </div>
        <div class="table" id="scroll">
          <h4>Maximum Probable</h4>
          <table>
            <thead>
              <tr style="border-bottom: solid black 1px; padding: 4px 4px 4px 4px;">
                <th>Name</th>
                <th title="Streamflow (cubic feet per second)">Q</th>
                <th title="Drainage area (square miles)">D<sub>a</sub></th>
                <th title="Reach length (meters)">L</th>
                <th title="Velocity (meters per second)">V</th>
                <th title="Traveltime of the leading edge">T<sub>l</sub></th>
                <!--<th title="Time span of leading edge">T<sub>l</sub> Span</th>-->
                <th title="Accumulated Travel Time of the leading edge">CumT<sub>l</sub></th>
                <th title="Peak Concentration (mg/L)">C<sub>up</sub></th>
                <th title="Traveltime of the peak">T<sub>p</sub></th>
                <th title="Accumulated Travel Time of the peak">CumT<sub>p</sub></th>
                <th title="Trailing Edge Concentration (mg/L)">C<sub>t</sub></th>
                <th title="Traveltime of trailing edge (Time of passage from the leading edge to a point where the concentration has been reduced to 10 percent of the peak concentration)">T<sub>d10</sub></th>
                <th title="Accumulated Travel Time of trailing edge">CumT<sub>d10</sub></th>
              </tr>
            </thead>
    
            <tbody>
              <tr *ngFor="let reach of output$; let i = index">
                <td>{{reach.name}}</td>
    
                <ng-container *ngFor="let pars of reach.parameters">
                  <ng-container *ngIf="pars.name === 'Discharge at time of measurement'">
                    <td>{{pars.value}}</td>
                  </ng-container>
                  <ng-container *ngIf="pars.name === 'Drainage area'">
                    <td>{{pars.value}}</td>
                  </ng-container>
                  <ng-container *ngIf="pars.name === 'Distance'">
                    <td>{{pars.value}}</td>
                  </ng-container>
                </ng-container>
    
                <ng-container>
                  <!-- if the key is equal to v - this is av speed, else it is vmax-->
                  <td>{{reach.result.equations.vmax.value.toUSGSvalue(2)}}</td>
                  <td>{{reach.result.tracer_Response.leadingEdge.MaximumProbable.reachTime}}</td>
                  <td title="{{reach.result.tracer_Response.leadingEdge.MaximumProbable.date}}">{{reach.result.tracer_Response.leadingEdge.MaximumProbable.cumTime}}</td>
                  <td>{{reach.result.tracer_Response.peakConcentration.MaximumProbable.concentration.toUSGSvalue(2)}}</td>
                  <td>{{reach.result.tracer_Response.peakConcentration.MaximumProbable.reachTime}}</td>
                  <td title="{{reach.result.tracer_Response.leadingEdge.MaximumProbable.date}}">{{reach.result.tracer_Response.peakConcentration.MaximumProbable.cumTime}}</td>
                  <td>{{reach.result.tracer_Response.trailingEdge.MaximumProbable.concentration.toUSGSvalue(2)}}</td>
                  <td>{{reach.result.tracer_Response.trailingEdge.MaximumProbable.reachTime}}</td>
                  <td title="{{reach.result.tracer_Response.leadingEdge.MaximumProbable.date}}">{{reach.result.tracer_Response.trailingEdge.MaximumProbable.cumTime}}</td>
                </ng-container>
              </tr>
            </tbody>
          </table>
        </div>
        <p class="italic">Citations</p>
        <a href=""
      </div>
      <div *ngIf="StudyService.ReportOptions[2].checked">
        <!--INSERT GRAPH HERE-->
        <p>Graph</p>
        </div>
    </div>
    <div id="modal-footer">
      <div id="printblock" class="center">
        <div class="btn-wrapper">
          <button class="btn-black btn-main margin3" (click)="activeModal.dismiss()"><i class="fa fa-times"></i>&nbsp;&nbsp;Close</button>
          <button class="btn-blue btn-main" (click)="print()"><i class="fa fa-print"></i>&nbsp;&nbsp;Print</button>          
        </div>
      </div>
    </div>
  </div>
</div>